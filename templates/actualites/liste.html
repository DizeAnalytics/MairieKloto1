{% extends 'base.html' %}
{% block extra_css %}
<style>
    .container { max-width: 1400px; margin: 0 auto; padding: 3rem 2rem; }
    .page-title { font-size: 2.5rem; color: var(--primary); margin-bottom: 1rem; text-align: center; }
    .page-subtitle { text-align: center; color: var(--dark); opacity: 0.8; margin-bottom: 3rem; }
    .actualites-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 2rem; margin-top: 2rem; }
    .actualite-card { background: var(--white); border-radius: 10px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: transform 0.3s, box-shadow 0.3s; }
    .actualite-card:hover { transform: translateY(-5px); box-shadow: 0 6px 12px rgba(0,0,0,0.15); }
    .actualite-image { width: 100%; height: 250px; object-fit: cover; }
    .actualite-content { padding: 1.5rem; }
    .actualite-date { color: var(--primary); font-size: 0.9rem; margin-bottom: 0.5rem; }
    .actualite-title { font-size: 1.5rem; color: var(--primary); margin-bottom: 1rem; }
    .actualite-resume { color: var(--dark); opacity: 0.8; margin-bottom: 1rem; line-height: 1.6; }
    .actualite-link { display: inline-block; padding: 0.7rem 1.5rem; background: var(--primary); color: var(--white); text-decoration: none; border-radius: 5px; transition: background 0.3s; }
    .actualite-link:hover { background: var(--accent); }
    .no-actualites { text-align: center; padding: 3rem; color: var(--dark); opacity: 0.7; }
    @media (max-width: 768px) { .actualites-grid { grid-template-columns: 1fr; } }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <h1 class="page-title">Actualit√©s de la Mairie</h1>
    <p class="page-subtitle">Restez inform√© des derni√®res nouvelles et √©v√©nements de la commune</p>

    {% if actualites %}
    <div class="actualites-grid">
        {% for actualite in actualites %}
        <div class="actualite-card">
            {% if actualite.photo1 %}
            <img src="{{ actualite.photo1.url }}" alt="{{ actualite.titre }}" class="actualite-image">
            {% endif %}
            <div class="actualite-content">
                <div class="actualite-date">üìÖ {{ actualite.date_publication|date:"d/m/Y" }}</div>
                <h2 class="actualite-title">{{ actualite.titre }}</h2>
                {% if actualite.resume %}
                <p class="actualite-resume">{{ actualite.resume|truncatewords:30 }}</p>
                {% else %}
                <p class="actualite-resume">{{ actualite.contenu|truncatewords:30 }}</p>
                {% endif %}
                <a href="{% url 'actualites:detail' actualite.pk %}" class="actualite-link">Lire la suite ‚Üí</a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="no-actualites">
        <p>Aucune actualit√© disponible pour le moment.</p>
    </div>
    {% endif %}
</div>
{% endblock %}
